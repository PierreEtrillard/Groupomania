<app-header></app-header>
<main>
  <section class="post-area">
    <div *ngFor="let post of posts" class="card" style="width: 18rem"
    [ngClass]="post.author === currentUser.name && correctingMod||currentUser.role!=='normal'&& correctingMod?'card card-destroyable':'card'"
    >
    <!-- [ngClass]="isNewPost(post.createdAt)" -->
      <div class="card-body">
        <div class="post-title">
          <img
            [src]="post.authorPhoto"
            alt="photo de {{ post.author }}"
            class="photo-profile"
          />
          <h5 class="card-title">{{ post.title | titlecase }}</h5>
        </div>
        <h6 class="card-subtitle mb-2 text-muted">
          de {{ post.author | uppercase }}
        </h6>
        <h6 class="card-subtitle mb-2 text-muted">
          le {{ post.createdAt | date: "dd MMMM. Ã  HH:mm" }}
        </h6>
        <img
          *ngIf="post.imageUrl !== ''"
          [src]="post.imageUrl"
          alt="{{ post.textContent }}"
          class="card-img"
        />
        <p class="card-text">
          {{ post.textContent }}
        </p>
      </div>
      <div
        (click)="addComment()"
        [ngClass]="commentArea ? 'card comment-wrapper' : 'comment-btn'"
      >
        <fa-icon
          [icon]="faCommenting"
          class="fa-2x clicked comment-icon"
        ></fa-icon>
        <div *ngIf="commentArea" class="comment-body">
          <input />
        </div>
      </div>
      <div class="like-wrapper" (click)="likeAction(post.id)">
        <div [ngClass]="isLiked(post.id) ? 'liked-state' : 'unliked-state'">
          J'<fa-icon [icon]="faHeart" class="liked-heart"></fa-icon>ce post !
        </div>
        <div class="obvious-heart">
          <fa-icon [icon]="faHeart"></fa-icon>
          <div class="score">{{ post.likers.length }}</div>
        </div>
      </div>
    </div>
  </section>
  <app-navbar></app-navbar>
</main>
